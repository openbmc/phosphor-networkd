{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "43099510_2f0a8cca",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2025-09-22T02:57:50Z",
      "side": 1,
      "message": "OK, but under what conditions? The set command has been working in the past, is this something new?",
      "revId": "2590c9f6437d4d45e234d0ea1a3bb5804822f81c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66aeafb9_da434cc8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2025-09-22T03:05:24Z",
      "side": 1,
      "message": "the old code, if without function callback, don\u0027t recvmsgs.\n\n\n```\n    if (function)\n    {\n        cb_ret \u003d 1;\n\n        // Add a callback function to the socket\n        nl_socket_modify_cb(socket.get(), NL_CB_VALID, NL_CB_CUSTOM, function,\n                            \u0026cb_ret);\n    }\n\n    do\n    {\n        ret \u003d nl_recvmsgs_default(socket.get());\n        if (ret \u003c 0)\n        {\n            lg2::error(\"Failed to receive the message , RC : {RC}\", \"RC\", ret);\n            break;\n        }\n    } while (cb_ret);\n```",
      "parentUuid": "43099510_2f0a8cca",
      "revId": "2590c9f6437d4d45e234d0ea1a3bb5804822f81c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8299f266_b6a87a1d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2025-09-21T22:35:32Z",
      "side": 1,
      "message": "hmmm.  this seems to be userspace coding, adjustinf it\u0027s request to avoid kernel hang.  that sounds backwards \n\n\nI think we should look at the kernel handling this automatically.\n\n\nI don\u0027t remember the history of this auto ack disable.   \n\nI do remember that the ability to send arbitrary messages was not the intent.  \n\nI haven\u0027t yet taken the time to read the full context of this patch but decided to look at bot  code review notice",
      "revId": "2590c9f6437d4d45e234d0ea1a3bb5804822f81c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54f97fd5_eafc5788",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2025-09-22T03:00:30Z",
      "side": 1,
      "message": "\u003e  adjustinf it\u0027s request to avoid kernel hang\nThe kernel isn’t actually hung. With auto-ack disabled, the kernel doesn’t send any message back, so the application-layer stack gets stuck here.",
      "parentUuid": "8299f266_b6a87a1d",
      "revId": "2590c9f6437d4d45e234d0ea1a3bb5804822f81c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f92295e7_56c3f16a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2025-09-22T02:57:50Z",
      "side": 1,
      "message": "Makes sense, but I think we need a bit more data here; has something changed to the ack behaviour separately?",
      "revId": "2590c9f6437d4d45e234d0ea1a3bb5804822f81c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}