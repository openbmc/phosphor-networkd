{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "543fbe2c_cda34b20",
        "filename": "src/ncsi_cmd.cpp",
        "patchSetId": 55
      },
      "lineNbr": 577,
      "author": {
        "id": 1002157
      },
      "writtenOn": "2025-02-25T21:39:49Z",
      "side": 1,
      "message": "Per DSP0222, v1.2.0, 8.2.1.7 Payload length:\n\n\u003e This 12-bit field contains the length, in bytes, of any payload data present in the command or response frame following the NC-SI packet header. This value does not include the length of the NC-SI Control Packet Header, the checksum value, or any padding that might be present.\n\nFrom my interpretation, this means that the length as it is present in the NCSI header may not necessarily be 4-byte aligned, but the payload will be 4-byte aligned.\n\nSo, I\u0027m not sure this if statement is correct for this command. Do you agree?",
      "revId": "44ea4959d10393c4a8e87e9a3df42ddf211faed5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b13c40c_13cca03c",
        "filename": "src/ncsi_cmd.cpp",
        "patchSetId": 55
      },
      "lineNbr": 577,
      "author": {
        "id": 1002188
      },
      "writtenOn": "2025-02-26T01:21:05Z",
      "side": 1,
      "message": "Thank you for your feedback. I believe the NCSI header is fixed at 16 bytes, which you can verify in Table 10 of DSP0222.\n\nAdditionally, the \u0027length\u0027 field specifically represents the payload length and does not include the NCSI header.",
      "parentUuid": "543fbe2c_cda34b20",
      "revId": "44ea4959d10393c4a8e87e9a3df42ddf211faed5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64b9a94a_42ec2445",
        "filename": "src/ncsi_cmd.cpp",
        "patchSetId": 55
      },
      "lineNbr": 577,
      "author": {
        "id": 1000212
      },
      "writtenOn": "2025-02-27T19:31:01Z",
      "side": 1,
      "message": "http://github.com/openbmc/phosphor-networkd/blob/master/src/ncsi_util.cpp#L555 -- here resp-\u003epayload.size() is set as the length as mentioned in the header (not the actual size of payload with the padding bytes). From my reading, the header contains the actual expected size while the payload itself may have padding bytes to make it word aligned.\n\nWhat this check is doing is putting a constraint on the crash/coredump size to be of word aligned size which is not what the spec mentions.",
      "parentUuid": "2b13c40c_13cca03c",
      "revId": "44ea4959d10393c4a8e87e9a3df42ddf211faed5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}